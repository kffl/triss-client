<div class="container">

  <div class="form">

    <div class="title main-title">
      <span>{{ 'REQUEST.MAIN_TITLE' | translate }}</span>
    </div>

    <div class="form-group basic-info">
      <div class="fields-pair">
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.FIRST_NAME' | translate }}</span></mat-label>
          <input matInput #firstName readonly>
        </mat-form-field>
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.SURNAME' | translate }}</span></mat-label>
          <input matInput #surname readonly>
        </mat-form-field>
      </div>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.ACADEMIC_TITLE' | translate }}</span></mat-label>
        <input matInput #academicTitle readonly>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.INSTITUTE' | translate }}</span></mat-label>
        <input matInput #institute readonly>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.PHONE_NUMBER' | translate }}</span></mat-label>
        <input matInput #phoneNumber readonly>
      </mat-form-field>
      <div class="fields-pair">
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.DESTINATION_COUNTRY' | translate }}</span></mat-label>
          <span matPrefix class="asterisk">*</span>
          <input matInput (input)="synchronizeCountryName()" #destinationCountry>
        </mat-form-field>
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.DESTINATION_CITY' | translate }}</span></mat-label>
          <span matPrefix class="asterisk">*</span>
          <input matInput #destinationCity>
        </mat-form-field>
      </div>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.TRIP_DATE' | translate }}</span></mat-label>
        <span matPrefix class="asterisk">*</span>
        <mat-date-range-input [rangePicker]="abroadPicker" #abroadDate (click)="abroadPicker.open()">
          <input matStartDate placeholder="{{ 'REQUEST.TRIP_DATE_FROM' | translate }}" readonly>
          <input matEndDate placeholder="{{ 'REQUEST.TRIP_DATE_TO' | translate }}" readonly>
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="abroadPicker"></mat-datepicker-toggle>
        <mat-date-range-picker #abroadPicker></mat-date-range-picker>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.PURPOSE' | translate }}</span></mat-label>
        <span matPrefix class="asterisk">*</span>
        <input matInput #purpose>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.CONFERENCE' | translate }}</span></mat-label>
        <span matPrefix class="asterisk">*</span>
        <input matInput #conference>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.SUBJECT' | translate }}</span></mat-label>
        <span matPrefix class="asterisk">*</span>
        <input matInput #subject>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.CONFERENCE_DATE' | translate }}</span></mat-label>
        <span matPrefix class="asterisk">*</span>
        <mat-date-range-input [rangePicker]="conferencePicker" #conferenceDate (click)="conferencePicker.open()">
          <input matStartDate placeholder="{{ 'REQUEST.CONFERENCE_DATE_FROM' | translate }}" readonly>
          <input matEndDate placeholder="{{ 'REQUEST.CONFERENCE_DATE_TO' | translate }}" readonly>
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="conferencePicker"></mat-datepicker-toggle>
        <mat-date-range-picker #conferencePicker></mat-date-range-picker>
      </mat-form-field>
    </div>

    <div class="title subtitle">
      <span>{{ 'REQUEST.FINANCIAL_SOURCE_TITLE' | translate }}</span>
    </div>

    <div class="form-group financial-source">
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.ALLOCATION_ACCOUNT' | translate }}</span></mat-label>
        <input matInput #allocationAccount disabled>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.MPK' | translate }}</span></mat-label>
        <input matInput #MPK disabled>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.FINANCIAL_SOURCE' | translate }}</span></mat-label>
        <input matInput #financialSource disabled>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.PROJECT' | translate }}</span></mat-label>
        <input matInput #project disabled>
      </mat-form-field>
    </div>

    <div class="title subtitle">
      <span>{{ 'REQUEST.TRANSPORT_TITLE' | translate }}</span>
    </div>

    <div class="form-group transport" *ngFor="let transportMean of transportMeansArray">
      <div class="info-text transport-enum"><span>{{ 'REQUEST.TRANSPORT_MEAN_NO' | translate }} {{transportMean}}</span></div>
      <mat-form-field [appearance]="formFieldsStyle">
        <span matPrefix class="asterisk">*</span>
        <mat-label><span>{{ 'REQUEST.TRANSPORT_MEAN_TYPE' | translate }}</span></mat-label>
        <mat-select #vehicleSelect>
          <mat-option *ngFor="let vehicle of vehicles" [value]="vehicle.value"><span>{{vehicle[enumLang]}}</span></mat-option>
        </mat-select>
      </mat-form-field>
      <div class="fields-pair">
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.ROUTE_FROM' | translate }}</span></mat-label>
          <span matPrefix class="asterisk">*</span>
          <input matInput #routeFrom>
        </mat-form-field>
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.ROUTE_TO' | translate }}</span></mat-label>
          <span matPrefix class="asterisk">*</span>
          <input matInput #routeTo>
        </mat-form-field>
      </div>
      <div class="fields-triple">
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label>{{ 'REQUEST.DEPARTURE_DATE' | translate }}</mat-label>
          <span matPrefix class="asterisk">*</span>
          <input matInput [matDatepicker]="departurePicker" #departureDate readonly (click)="departurePicker.open()">
          <mat-datepicker-toggle matSuffix [for]="departurePicker"></mat-datepicker-toggle>
          <mat-datepicker #departurePicker></mat-datepicker>
        </mat-form-field>
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.DEPARTURE_HOUR' | translate }}</span></mat-label>
          <span matPrefix class="asterisk">*</span>
          <input matInput
                 digitOnly
                 (paste)="validatePaste(departureHour, 23)"
                 type="text"
                 inputmode="numeric"
                 [pattern]="hourRegex"
                 #departureHour>
        </mat-form-field>
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.DEPARTURE_MINUTE' | translate }}</span></mat-label>
          <span matPrefix class="asterisk">*</span>
          <input matInput
                 digitOnly
                 (paste)="validatePaste(departureMinute, 59)"
                 type="text"
                 inputmode="numeric"
                 [pattern]="minuteRegex"
                 #departureMinute>
        </mat-form-field>
      </div>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.CARRIER' | translate }}</span></mat-label>
        <input matInput #carrier>
      </mat-form-field>
    </div>

    <div class="transport-buttons">
      <button mat-stroked-button (click)="incrementTransportMeansNumber()" [disabled]="transportMeansNumber === 100">
        <span>{{ 'REQUEST.BUTTON_NEW_TRANSPORT' | translate }}</span>
      </button>
      <button mat-stroked-button (click)="decrementTransportMeansNumber()" [disabled]="transportMeansNumber === 1">
        <span>{{ 'REQUEST.BUTTON_DELETE_TRANSPORT' | translate }}</span>
      </button>
    </div>

    <div class="title subtitle">
      <span>{{ 'REQUEST.INSURANCE_TITLE' | translate }}</span>
    </div>
    <div class="info-text">
      <span>{{ 'REQUEST.INSURANCE_INFO_TEXT' | translate }}</span>
    </div>

    <div class="form-group insurance">
      <div class="fields-pair">
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.FIRST_NAME' | translate }}</span></mat-label>
          <input matInput #firstNameInsurance [disabled]="selfInsuredCheckbox.checked" readonly>
        </mat-form-field>
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.SURNAME' | translate }}</span></mat-label>
          <input matInput #surnameInsurance [disabled]="selfInsuredCheckbox.checked" readonly>
        </mat-form-field>
      </div>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label>{{ 'REQUEST.BIRTHDATE' | translate }}</mat-label>
        <input matInput [matDatepicker]="birthPicker" #birthDate [disabled]="selfInsuredCheckbox.checked" readonly>
        <mat-datepicker-toggle matSuffix [for]="birthPicker"></mat-datepicker-toggle>
        <mat-datepicker #birthPicker disabled></mat-datepicker>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.DEPARTURE_COUNTRY' | translate }}</span></mat-label>
        <input matInput #departureCountry [disabled]="selfInsuredCheckbox.checked" readonly>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.TIME_ABROAD' | translate }}</span></mat-label>
        <span matPrefix class="asterisk" *ngIf="!selfInsuredCheckbox.checked">*</span>
        <mat-date-range-input [rangePicker]="insurancePicker" [disabled]="selfInsuredCheckbox.checked" #abroadDateInsurance (click)="insurancePicker.open()">
          <input matStartDate placeholder="{{ 'REQUEST.TIME_ABROAD_FROM' | translate }}" readonly>
          <input matEndDate placeholder="{{ 'REQUEST.TIME_ABROAD_TO' | translate }}" readonly>
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="insurancePicker"></mat-datepicker-toggle>
        <mat-date-range-picker #insurancePicker></mat-date-range-picker>
      </mat-form-field>
      <mat-checkbox class="example-margin" #selfInsuredCheckbox>
        <span>{{ 'REQUEST.SELF_INSURED' | translate }}</span>
      </mat-checkbox>
    </div>

    <div class="title subtitle">
      <span>{{ 'REQUEST.ADVANCE_PAYMENT_REQUEST_TITLE' | translate }}</span>
    </div>

    <div class="form-group advance-payment-request">
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.REQUEST_PAYMENT_DESTINATION' | translate }}</span></mat-label>
        <input matInput #requestPaymentDestination readonly>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.REQUEST_PAYMENT_DATE' | translate }}</span></mat-label>
        <span matPrefix class="asterisk">*</span>
        <mat-date-range-input [rangePicker]="advancePaymentRequestPicker" #requestPaymentDate (click)="advancePaymentRequestPicker.open()">
          <input matStartDate placeholder="{{ 'REQUEST.REQUEST_PAYMENT_DATE_FROM' | translate }}" readonly>
          <input matEndDate placeholder="{{ 'REQUEST.REQUEST_PAYMENT_DATE_TO' | translate }}" readonly>
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="advancePaymentRequestPicker"></mat-datepicker-toggle>
        <mat-date-range-picker #advancePaymentRequestPicker></mat-date-range-picker>
      </mat-form-field>
      <div class="advance-payment-request-list">
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.REQUEST_PAYMENT_DAYS' | translate }}</span></mat-label>
          <span matPrefix class="asterisk">*</span>
          <input digitOnly
                 type="text"
                 inputmode="numeric"
                 [pattern]="integerRegex"
                 matInput
                 (input)="setAmountSum(requestPaymentDays.value, requestPaymentDaysAmount.value, requestPaymentDaysAmountSum)"
                 #requestPaymentDays>
        </mat-form-field>
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.REQUEST_PAYMENT_DAYS_AMOUNT' | translate }}</span></mat-label>
          <span matPrefix class="asterisk">*</span>
          <input digitOnly
                 type="text"
                 inputmode="numeric"
                 decimal="true"
                 [decimalSeparator]="decimalSeparator"
                 [pattern]="currencyRegex"
                 matInput
                 (input)="setAmountSum(requestPaymentDays.value, requestPaymentDaysAmount.value, requestPaymentDaysAmountSum)"
                 #requestPaymentDaysAmount>
        </mat-form-field>
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.SUM' | translate }}</span></mat-label>
          <input matInput
                 #requestPaymentDaysAmountSum
                 readonly>
        </mat-form-field>
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.ACCOMMODATION' | translate }}</span></mat-label>
          <span matPrefix class="asterisk">*</span>
          <input digitOnly
                 type="text"
                 inputmode="numeric"
                 [pattern]="integerRegex"
                 matInput
                 (input)="setAmountSum(requestPaymentAccommodation.value, requestPaymentAccommodationLimit.value, requestPaymentAccommodationSum)"
                 #requestPaymentAccommodation>
        </mat-form-field>
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.LIMIT' | translate }}</span></mat-label>
          <span matPrefix class="asterisk">*</span>
          <input digitOnly
                 type="text"
                 inputmode="numeric"
                 decimal="true"
                 [decimalSeparator]="decimalSeparator"
                 [pattern]="currencyRegex"
                 matInput
                 (input)="setAmountSum(requestPaymentAccommodation.value, requestPaymentAccommodationLimit.value, requestPaymentAccommodationSum)"
                 #requestPaymentAccommodationLimit>
        </mat-form-field>
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.SUM' | translate }}</span></mat-label>
          <input matInput
                 #requestPaymentAccommodationSum
                 readonly>
        </mat-form-field>
        <mat-form-field class="three-columns-form-field" [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.TRAVEL_DIET' | translate }}</span></mat-label>
          <span matPrefix class="asterisk">*</span>
          <input digitOnly
                 type="text"
                 inputmode="numeric"
                 decimal="true"
                 [decimalSeparator]="decimalSeparator"
                 [pattern]="currencyRegex"
                 (input)="setRequestPaymentSummarizedCosts()"
                 matInput
                 #requestPaymentTravelDiet>
        </mat-form-field>
        <mat-form-field class="three-columns-form-field" [appearance]="formFieldsStyle">
          <span matPrefix class="asterisk">*</span>
          <mat-label><span>{{ 'REQUEST.LOCAL_TRANSPORT_COSTS' | translate }}</span></mat-label>
          <input digitOnly
                 type="text"
                 inputmode="numeric"
                 decimal="true"
                 [decimalSeparator]="decimalSeparator"
                 [pattern]="currencyRegex"
                 (input)="setRequestPaymentSummarizedCosts()"
                 matInput
                 #requestPaymentLocalTransportCosts>
        </mat-form-field>
        <mat-form-field class="two-columns-form-field" [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.OTHER_COSTS' | translate }}</span></mat-label>
          <span matPrefix class="asterisk">*</span>
          <textarea matInput placeholder="{{ 'REQUEST.OTHER_COSTS_PLACEHOLDER' | translate }}" #requestPaymentOtherExpensesDescription></textarea>
        </mat-form-field>
        <mat-form-field [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.OTHER_COSTS_AMOUNT' | translate }}</span></mat-label>
          <span matPrefix class="asterisk">*</span>
          <input digitOnly
                 type="text"
                 inputmode="numeric"
                 decimal="true"
                 [decimalSeparator]="decimalSeparator"
                 [pattern]="currencyRegex"
                 (input)="setRequestPaymentSummarizedCosts()"
                 matInput
                 #requestPaymentOtherExpensesValue>
        </mat-form-field>
        <mat-form-field class="three-columns-form-field" [appearance]="formFieldsStyle">
          <mat-label><span>{{ 'REQUEST.SUMMARIZED_COSTS' | translate }}</span></mat-label>
          <input matInput #requestPaymentSummarizedCosts readonly>
        </mat-form-field>
      </div>
    </div>

    <div class="title subtitle">
      <span>{{ 'REQUEST.ADVANCE_PAYMENTS_TITLE' | translate }}</span>
    </div>
    <div class="info-text">
      <span>{{ 'REQUEST.ADVANCE_PAYMENTS_INFO_TEXT' | translate }}</span>
    </div>

    <div class="form-group advance-payments">
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.CONFERENCE_FEE' | translate }}</span></mat-label>
        <span matPrefix class="asterisk">*</span>
        <input digitOnly
               type="text"
               inputmode="numeric"
               decimal="true"
               [decimalSeparator]="decimalSeparator"
               [pattern]="currencyRegex"
               matInput
               placeholder="{{ 'REQUEST.CONFERENCE_FEE_PLACEHOLDER' | translate }}"
               #conferenceFeeValue>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.PAYMENT_FORM' | translate }}</span></mat-label>
        <span matPrefix class="asterisk">*</span>
        <mat-select #conferenceFeePaymentTypeSelect>
          <mat-option *ngFor="let paymentType of paymentTypes" [value]="paymentType.value"><span>{{paymentType[enumLang]}}</span></mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.DEPOSIT' | translate }}</span></mat-label>
        <span matPrefix class="asterisk">*</span>
        <input digitOnly
               type="text"
               inputmode="numeric"
               decimal="true"
               [decimalSeparator]="decimalSeparator"
               [pattern]="currencyRegex"
               matInput
               placeholder="{{ 'REQUEST.DEPOSIT_PLACEHOLDER' | translate }}"
               #depositValue>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.PAYMENT_FORM' | translate }}</span></mat-label>
        <span matPrefix class="asterisk">*</span>
        <mat-select #depositPaymentTypeSelect>
          <mat-option *ngFor="let paymentType of paymentTypes" [value]="paymentType.value"><span>{{paymentType[enumLang]}}</span></mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="title subtitle">
      <span>{{ 'REQUEST.IDENTITY_DOCUMENTS_TITLE' | translate }}</span>
    </div>

    <div class="form-group identity-document">
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.DOCUMENT_TYPE' | translate }}</span></mat-label>
        <span matPrefix class="asterisk">*</span>
        <mat-select #identityDocumentTypeSelect (selectionChange)="onIdChange($event.value)">
          <mat-option *ngFor="let identityDocument of identityDocuments" [value]="identityDocument.value"><span>{{identityDocument[enumLang]}}</span></mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.DOCUMENT_SERIAL_NUMBER' | translate }}</span></mat-label>
        <input matInput #identityDocumentSerialNumber readonly>
      </mat-form-field>
    </div>

    <div class="title subtitle">
      <span>{{ 'REQUEST.COMMENTS_TITLE' | translate }}</span>
    </div>

    <div class="form-group comments">
      <mat-form-field [appearance]="formFieldsStyle">
        <mat-label><span>{{ 'REQUEST.COMMENTS' | translate }}</span></mat-label>
        <textarea matInput #comments></textarea>
      </mat-form-field>
    </div>

    <div class="outcome-buttons">
      <a><button mat-flat-button color="primary">
        <span>{{ 'REQUEST.BUTTON_CANCEL' | translate }}</span>
      </button></a>
      <a><button (click)="submitForm()" mat-flat-button color="primary">
        <span>{{ 'REQUEST.BUTTON_SEND' | translate }}</span>
      </button></a>
    </div>
  </div>
</div>
